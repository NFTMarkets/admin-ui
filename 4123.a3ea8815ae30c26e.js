"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4123],{4123:(b,u,a)=>{a.r(u),a.d(u,{Tab1PageModule:()=>P});var o=a(5649),d=a(9808),m=a(4182),g=a(501),l=a(655),e=a(2096),p=a(8213);function _(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-icon",13),e.NdJ("click",function(){e.CHM(n);const r=e.oxw().$implicit;return e.oxw(2).showError(r)}),e.qZA()}}function h(t,s){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-item-sliding")(2,"ion-item-options",10)(3,"ion-item-option",11),e.NdJ("click",function(){const c=e.CHM(n).$implicit;return e.oxw(2).deleteCollection(c)}),e._uU(4," Delete "),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label"),e._uU(7),e.YNc(8,_,1,0,"ion-icon",12),e.qZA(),e.TgZ(9,"ion-note"),e._uU(10),e.qZA(),e.TgZ(11,"ion-note"),e._uU(12),e.qZA(),e.TgZ(13,"ion-note"),e._uU(14),e.qZA()()(),e.BQk()}if(2&t){const n=s.$implicit;e.xp6(7),e.hij(" ",n.contractAddress," "),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(2),e.hij("",n.downloadProgress,"%"),e.xp6(2),e.hij(" Attributes: ",n.attributesAnalysed?"\u2705":"\u23f1"," "),e.xp6(2),e.hij(" Formulas: ",n.formulasApplied?"\u2705":"\u23f1"," ")}}function f(t,s){if(1&t&&(e.TgZ(0,"ion-list"),e.YNc(1,h,15,5,"ng-container",9),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.items)}}function T(t,s){1&t&&e._uU(0," No items found ")}const C=[{path:"",component:(()=>{class t{constructor(n,i,r){this.api=n,this.alertController=i,this.toastController=r,this.items=[]}ngOnInit(){this.refresh()}refresh(){return(0,l.mG)(this,void 0,void 0,function*(){this.items=[],this.items=yield this.api.loadQueueItems(),this.lastUpdatedAt=new Date})}addNew(){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Please enter the ethereum Contract Address",inputs:[{name:"contractAddress",type:"text",placeholder:"0x..."}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Submit",handler:i=>(0,l.mG)(this,void 0,void 0,function*(){var r;if(42!==(null===(r=i.contractAddress)||void 0===r?void 0:r.length)){const c=yield this.toastController.create({color:"danger",position:"top",duration:3e3,message:"Invalid contract address. Please double check."});return c.onclick=()=>{c.dismiss()},void c.present()}yield this.api.addContract(i.contractAddress),this.refresh()})}]})).present()})}showError(n){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.alertController.create({header:"Error during the sync process",message:n.error,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Retry",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield this.api.retrySyncProcess(n.contractAddress),this.refresh()})}]})).present()})}deleteCollection(n){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.alertController.create({header:"Delete Collection Confirmation",message:`Please confirm to delete "${n.contractAddress}" collection?`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Confirm",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield this.api.deleteCollection(n.contractAddress),this.refresh()})}]})).present()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.s),e.Y36(o.Br),e.Y36(o.yF))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tab1"]],decls:23,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end",1,"actions"],["color","secondary","size","small",3,"click"],["color","tertiary","size","small",3,"click"],[4,"ngIf","ngIfElse"],["Empty",""],[4,"ngFor","ngForOf"],["side","start"],["color","danger","expandable","",3,"click"],["name","warning-outline","color","danger","class","pointer",3,"click",4,"ngIf"],["name","warning-outline","color","danger",1,"pointer",3,"click"]],template:function(n,i){if(1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Queue "),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8," Queue "),e.qZA(),e.TgZ(9,"div",4)(10,"small")(11,"span"),e._uU(12,"Last refresh at:"),e.qZA(),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"ion-button",5),e.NdJ("click",function(){return i.refresh()}),e._uU(16," Refresh "),e.qZA(),e.TgZ(17,"ion-button",6),e.NdJ("click",function(){return i.addNew()}),e._uU(18," Add New "),e.qZA()()()(),e.TgZ(19,"main"),e.YNc(20,f,2,1,"ion-list",7),e.YNc(21,T,1,0,"ng-template",null,8,e.W1O),e.qZA()()),2&n){const r=e.MAs(22);e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(9),e.hij(" ",e.xi3(14,5,i.lastUpdatedAt,"mediumTime")," "),e.xp6(7),e.Q6J("ngIf",i.items.length)("ngIfElse",r)}},directives:[o.Gu,o.sr,o.wd,o.W2,o.YG,d.O5,o.q_,d.sg,o.td,o.IK,o.u8,o.Ie,o.Q$,o.gu,o.uN],pipes:[d.uU],styles:["main[_ngcontent-%COMP%]{padding-top:30px}ion-list[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-left:14px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray;margin-right:4px}.actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:10px}"]}),t})()}];let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(C)],g.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[o.Pc,d.ez,m.u5,x]]}),t})()}}]);