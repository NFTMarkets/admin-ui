"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4123],{4123:(b,u,a)=>{a.r(u),a.d(u,{Tab1PageModule:()=>P});var o=a(5649),d=a(9808),m=a(4182),g=a(501),l=a(655),e=a(2096),p=a(8213);function h(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-icon",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).showError(r)}),e.qZA()}}function _(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-item-sliding")(2,"ion-item-options",10)(3,"ion-item-option",11),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).deleteCollection(c)}),e._uU(4," Delete "),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-label")(7,"ion-button",12),e._uU(8),e.qZA(),e.YNc(9,h,1,0,"ion-icon",13),e.qZA(),e.TgZ(10,"ion-note"),e._uU(11),e.qZA(),e.TgZ(12,"ion-note"),e._uU(13),e.qZA(),e.TgZ(14,"ion-note"),e._uU(15),e.qZA()()(),e.BQk()}if(2&n){const t=s.$implicit;e.xp6(7),e.Q6J("href","https://etherscan.io/address/"+t.contractAddress),e.xp6(1),e.hij(" ",t.contractAddress," "),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(2),e.hij("",t.downloadProgress,"%"),e.xp6(2),e.hij(" Attributes: ",t.attributesAnalysed?"\u2705":"\u23f1"," "),e.xp6(2),e.hij(" Formulas: ",t.formulasApplied?"\u2705":"\u23f1"," ")}}function f(n,s){if(1&n&&(e.TgZ(0,"ion-list"),e.YNc(1,_,16,6,"ng-container",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.items)}}function T(n,s){1&n&&e._uU(0," No items found ")}const C=[{path:"",component:(()=>{class n{constructor(t,i,r){this.api=t,this.alertController=i,this.toastController=r,this.items=[]}ngOnInit(){this.refresh()}refresh(){return(0,l.mG)(this,void 0,void 0,function*(){this.items=[],this.items=yield this.api.loadQueueItems(),this.lastUpdatedAt=new Date})}addNew(){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Please enter the ethereum Contract Address",inputs:[{name:"contractAddress",type:"text",placeholder:"0x..."}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Submit",handler:i=>(0,l.mG)(this,void 0,void 0,function*(){var r;if(42!==(null===(r=i.contractAddress)||void 0===r?void 0:r.length)){const c=yield this.toastController.create({color:"danger",position:"top",duration:3e3,message:"Invalid contract address. Please double check."});return c.onclick=()=>{c.dismiss()},void c.present()}yield this.api.addContract(i.contractAddress),this.refresh()})}]})).present()})}showError(t){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.alertController.create({header:"Error during the sync process",message:t.error,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Retry",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield this.api.retrySyncProcess(t.contractAddress),this.refresh()})}]})).present()})}deleteCollection(t){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.alertController.create({header:"Delete Collection Confirmation",message:`Please confirm to delete "${t.contractAddress}" collection?`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Confirm",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield this.api.deleteCollection(t.contractAddress),this.refresh()})}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.s),e.Y36(o.Br),e.Y36(o.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tab1"]],decls:23,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end",1,"actions"],["color","secondary","size","small",3,"click"],["color","tertiary","size","small",3,"click"],[4,"ngIf","ngIfElse"],["Empty",""],[4,"ngFor","ngForOf"],["side","start"],["color","danger","expandable","",3,"click"],["size","small","fill","clear","target","_blank",3,"href"],["name","warning-outline","color","danger","class","pointer",3,"click",4,"ngIf"],["name","warning-outline","color","danger",1,"pointer",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," Queue "),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e._uU(8," Queue "),e.qZA(),e.TgZ(9,"div",4)(10,"small")(11,"span"),e._uU(12,"Last refresh at:"),e.qZA(),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"ion-button",5),e.NdJ("click",function(){return i.refresh()}),e._uU(16," Refresh "),e.qZA(),e.TgZ(17,"ion-button",6),e.NdJ("click",function(){return i.addNew()}),e._uU(18," Add New "),e.qZA()()()(),e.TgZ(19,"main"),e.YNc(20,f,2,1,"ion-list",7),e.YNc(21,T,1,0,"ng-template",null,8,e.W1O),e.qZA()()),2&t){const r=e.MAs(22);e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(9),e.hij(" ",e.xi3(14,5,i.lastUpdatedAt,"mediumTime")," "),e.xp6(7),e.Q6J("ngIf",i.items.length)("ngIfElse",r)}},directives:[o.Gu,o.sr,o.wd,o.W2,o.YG,d.O5,o.q_,d.sg,o.td,o.IK,o.u8,o.Ie,o.Q$,o.gu,o.uN],pipes:[d.uU],styles:["main[_ngcontent-%COMP%]{padding-top:30px}ion-list[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-left:14px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray;margin-right:4px}.actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:10px}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(C)],g.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.Pc,d.ez,m.u5,x]]}),n})()}}]);